{"version":3,"sources":["assets\\src\\InGameBetting.js"],"names":["cc","Class","Component","properties","isGenerating","myButton","type","Node","isRestarting","bettingOptionText","selectedBet","anim","Animation","loadingLayer","insufficient","balanceText","Label","hiding","currentBetting","lastBetting","playerDie","onLoad","selectedBetOption","globalData","currentBet","getSocket","getComponent","connectSocket","SetAmount","hide","play","even","value","maintBetOption","getBetSelection","myValue","i","length","string","setBetAmount","active","settings","balance","currentBetSlot","opacity","Number","isDemo","emit_result","host_id","access_token","ticket_id","game_code","user_id","api_url","emit","generatingBalance","emit_obj","generateScore2","selectBetOption","event","canPlay","log","start","demoGenerateScore","multiplierPerfect","multiplierConso","platform","perfectScore","consoleScore","parseInt","Math","random","round","consoScore","toString","systemEvent","generateScore","onDestroy","update","dt","finishGetData","scheduleOnce","finishGeneratingBalance"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\nimport * as globalData from \"GlobalData\";\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        isGenerating: false,\r\n        myButton: {\r\n            default: [],\r\n            type: [cc.Node],\r\n        },\r\n        isRestarting: false,\r\n        bettingOptionText: {\r\n            default: [],\r\n            type: [cc.Node]\r\n        },\r\n\r\n        selectedBet: {\r\n            default: [],\r\n            type: [cc.Node]\r\n        },\r\n        anim: {\r\n            default: null,\r\n            type: cc.Animation\r\n        },\r\n\r\n        // currentBettingLabel: {\r\n        //     default: null,\r\n        //     type: cc.Label,\r\n        // },\r\n\r\n        loadingLayer: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        insufficient: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        balanceText: {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        hiding: false,\r\n        currentBetting: 0,\r\n        lastBetting: 0,\r\n        playerDie:false,\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        this.selectedBetOption = globalData.currentBet;\r\n        if (!globalData.getSocket()) {\r\n            this.getComponent(\"Socket\").connectSocket();\r\n        }\r\n        this.SetAmount(1);\r\n    },\r\n\r\n    hide() {\r\n        if (!this.hiding) {\r\n            this.anim.play(\"Hide\");\r\n            this.hiding = true;\r\n        }\r\n        else {\r\n            this.anim.play(\"Show\");\r\n            this.hiding = false;\r\n        }\r\n    },\r\n\r\n    SetAmount(even, value) {\r\n        this.maintBetOption = globalData.getBetSelection();\r\n        if (this.maintBetOption == 0) {\r\n            this.myValue = 0.5;\r\n        }\r\n        if (this.maintBetOption == 1) {\r\n            this.myValue = 5;\r\n\r\n        }\r\n        if (this.maintBetOption == 2) {\r\n            this.myValue = 10;\r\n        }\r\n        if (this.maintBetOption == 3) {\r\n            this.myValue = 20;\r\n        }\r\n        for (let i = 0; i < this.bettingOptionText.length; i++) {\r\n            if (i == 0) {\r\n                this.bettingOptionText[i].getComponent(cc.Label).string = ((1 * this.myValue));\r\n            }\r\n            else if (i == 1) {\r\n                this.bettingOptionText[i].getComponent(cc.Label).string = ((1 * this.myValue)) * 2;\r\n            }\r\n            else if (i == 2) {\r\n                this.bettingOptionText[i].getComponent(cc.Label).string = ((1 * this.myValue)) * 3;\r\n            }\r\n            else {\r\n                this.bettingOptionText[i].getComponent(cc.Label).string = ((1 * this.myValue) / (this.bettingOptionText.length - i)) * 10;\r\n            }\r\n        }\r\n\r\n        if (this.selectedBetOption < 3) {\r\n            this.currentBetting = ((1 * this.myValue)) * (this.selectedBetOption + 1);\r\n        }\r\n        else {\r\n            this.currentBetting = ((1 * this.myValue) / (this.bettingOptionText.length - this.selectedBetOption)) * 10;\r\n        }\r\n\r\n        globalData.setBetAmount(this.currentBetting);\r\n        for (let i = 0; i < this.selectedBet.length; i++) {\r\n            if (i == this.selectedBetOption) {\r\n                this.selectedBet[i].active = false;\r\n                // this.myButton[i].scale = cc.v2(0.9, 0.9);\r\n\r\n            } else {\r\n                this.selectedBet[i].active = true;\r\n                // this.myButton[i].scale = cc.v2(0.7, 0.7);\r\n\r\n            }\r\n        }\r\n\r\n        if (this.lastBetting != this.currentBetting) {\r\n            if (globalData.settings.balance + this.lastBetting >= this.currentBetting) {\r\n                globalData.currentBetSlot=this.selectedBetOption;\r\n                // this.currentBettingLabel.string = this.currentBetting;\r\n                //eligible for betting;\r\n                this.loadingLayer.opacity = 255;\r\n                this.loadingLayer.active = true;\r\n                if (Number(value) == 0) {\r\n\r\n                    if (!globalData.isDemo) {\r\n                        var emit_result = {\r\n                            'host_id': globalData.host_id,\r\n                            'access_token': globalData.access_token,\r\n                            'ticket_id': globalData.ticket_id,\r\n                            'result': this.lastBetting,\r\n                            'key': \"Change bet: \" + this.lastBetting,\r\n                            'game_code': globalData.game_code,\r\n                            'description': \"Get previous bet and change bet\",\r\n                            'user_id': globalData.settings.user_id,\r\n                            'api_url':globalData.api_url,\r\n                            'changeBet':true,\r\n\r\n                        };\r\n                        globalData.getSocket().emit('send-result', emit_result);\r\n                        this.generatingBalance = true;\r\n                        this.lastBetting = this.currentBetting;\r\n                    }\r\n                    else {\r\n                        globalData.settings.balance += this.lastBetting;\r\n                        this.generatingBalance = true;\r\n                        this.lastBetting = this.currentBetting;\r\n                    }\r\n\r\n                }\r\n\r\n                else {\r\n                    this.lastBetting = this.currentBetting;\r\n                    this.insufficient.active = false;\r\n                    if (!globalData.isDemo) {\r\n                        var emit_obj = {\r\n                            'host_id': globalData.host_id,\r\n                            'access_token': globalData.access_token,\r\n                            'game_code': 23,\r\n                            'betAmount': this.currentBetting,\r\n                            \"key\": \"Happy Jump bet with these index 1st\",\r\n                            \"description\": \"bet\",\r\n                            \"user_id\": globalData.settings.user_id,\r\n                            'api_url':globalData.api_url,\r\n                            \"requestType\": \"bet\",\r\n                            \"currentBetSlot\":globalData.currentBetSlot,\r\n                        }\r\n\r\n                        globalData.getSocket().emit('changeBet', emit_obj);\r\n                        this.generateScore2();\r\n                    }\r\n                    else {\r\n                        globalData.settings.balance -= this.currentBetting;\r\n                        this.generateScore2();\r\n                    }\r\n\r\n                }\r\n            }\r\n            else {\r\n                this.insufficient.active = true;\r\n\r\n            }\r\n        }\r\n\r\n        else {\r\n\r\n        }\r\n\r\n    },\r\n\r\n\r\n    selectBetOption(event, value) {\r\n        this.selectedBetOption = Number(value);\r\n        //this.lastBetting = this.currentBetting;\r\n\r\n        this.canPlay = true;\r\n        // this.node.active = false;\r\n        cc.log(\"Selected bet option:\" + this.selectedBetOption);\r\n        for (let i = 0; i < this.selectedBet.length; i++) {\r\n            if (i == value) {\r\n                this.selectedBet[i].active = false;\r\n                // this.myButton[i].scale = cc.v2(0.9, 0.9);\r\n\r\n            } else {\r\n                this.selectedBet[i].active = true;\r\n                // this.myButton[i].scale = cc.v2(0.7, 0.7);\r\n\r\n            }\r\n        }\r\n\r\n        if (this.selectedBetOption < 3) {\r\n            this.currentBetting = ((1 * this.myValue)) * (this.selectedBetOption + 1);\r\n        }\r\n        else {\r\n            this.currentBetting = ((1 * this.myValue) / (this.bettingOptionText.length - this.selectedBetOption)) * 10;\r\n        }\r\n\r\n        globalData.setBetAmount(this.currentBetting);\r\n\r\n        if (this.lastBetting != this.currentBetting) {\r\n            if (globalData.settings.balance + this.lastBetting >= this.currentBetting) {\r\n                //eligible for betting;\r\n                globalData.currentBetSlot=this.selectedBetOption;\r\n                globalData.currentBet = Number(value);\r\n                // this.currentBettingLabel.string = this.currentBetting;\r\n                this.loadingLayer.opacity = 255;\r\n                this.loadingLayer.active = true;\r\n\r\n                if (!globalData.isDemo) {\r\n                    var emit_result = {\r\n                        'host_id': globalData.host_id,\r\n                        'access_token': globalData.access_token,\r\n                        'ticket_id': globalData.ticket_id,\r\n                        'result': this.lastBetting,\r\n                        'key': \"Change bet: \" + this.lastBetting,\r\n                        'game_code': globalData.game_code,\r\n                        'description': \"Get previous bet and change bet\",\r\n                        'user_id': globalData.settings.user_id,\r\n                        'api_url':globalData.api_url,\r\n                        'changeBet':true,\r\n\r\n                    };\r\n                    globalData.getSocket().emit('send-result', emit_result);\r\n                    this.lastBetting = this.currentBetting;\r\n                    this.generatingBalance = true;\r\n                }\r\n                else {\r\n                    globalData.settings.balance += this.lastBetting;\r\n                    this.lastBetting = this.currentBetting;\r\n                    this.generatingBalance = true;\r\n                }\r\n            }\r\n            else {\r\n                this.insufficient.active = true;\r\n            }\r\n        }\r\n        else {\r\n            if (globalData.settings.balance + this.lastBetting >= this.currentBetting) {\r\n                this.insufficient.active = false;\r\n            }\r\n        }\r\n\r\n\r\n\r\n    },\r\n    start() {\r\n\r\n    },\r\n\r\n    \r\n    generateScore2() {\r\n        this.isGenerating = true;\r\n\r\n    },\r\n    demoGenerateScore() {\r\n        this.loadingLayer.active = false;\r\n        var multiplierPerfect;\r\n        var multiplierConso;\r\n        var platform;\r\n        var perfectScore;\r\n        var consoleScore;\r\n        // calculate multiplier\r\n        platform = parseInt(Math.random() * (1 - 0) + 0);\r\n        multiplierPerfect = (Math.random() * (1.5 - 1.1) + 1.1);\r\n        multiplierConso = (Math.random() * (1 - 0.7) + 0.7);\r\n        perfectScore = Math.round((this.currentBetting * multiplierPerfect) * 10) / 10;\r\n        consoleScore = Math.round((this.currentBetting * multiplierConso) * 10) / 10;\r\n        globalData.consoScore = consoleScore;\r\n        globalData.perfectScore = perfectScore;\r\n        globalData.platform = platform;\r\n        this.balanceText.string = (Math.round(globalData.settings.balance * 100) / 100).toString();\r\n        cc.systemEvent.emit(\"Change-Bet\");\r\n    },\r\n    generateScore() {\r\n        this.loadingLayer.active = false;\r\n        this.balanceText.string = (Math.round(globalData.settings.balance * 100) / 100).toString();\r\n        cc.systemEvent.emit(\"Change-Bet\");\r\n\r\n    },\r\n    onDestroy() {\r\n        if (!globalData.isDemo) {\r\n            if (!this.playerDie) {\r\n                var emit_result = {\r\n                    'host_id': globalData.host_id,\r\n                    'access_token': globalData.access_token,\r\n                    'ticket_id': globalData.ticket_id,\r\n                    'result': this.lastBetting,\r\n                    'key': \"Go to home: \" + this.lastBetting,\r\n                    'game_code': globalData.game_code,\r\n                    'description': \"Cancel bet and go to home\",\r\n                    'user_id': globalData.settings.user_id,\r\n                    'api_url':globalData.api_url,\r\n                    'changeBet':true,\r\n\r\n                };\r\n                globalData.getSocket().emit('send-result', emit_result);\r\n            }\r\n\r\n        }\r\n        else {\r\n            if (!this.playerDie) {\r\n                globalData.settings.balance += this.lastBetting;\r\n            }\r\n        }\r\n    },\r\n\r\n    update(dt) {\r\n        if (this.isGenerating) {\r\n            if (!globalData.isDemo) {\r\n                if (globalData.finishGetData) {\r\n                    //sendresult\r\n                    this.isGenerating = false;\r\n                    globalData.finishGetData = false;\r\n                    this.scheduleOnce(function () {\r\n                        this.generateScore();\r\n\r\n                    }, 0.2);\r\n\r\n                }\r\n            }\r\n            else {\r\n                this.isGenerating = false;\r\n                this.scheduleOnce(function () {\r\n                    this.demoGenerateScore();\r\n\r\n                }, 0.2);\r\n            }\r\n\r\n\r\n        }\r\n\r\n        if (this.generatingBalance) {\r\n            if (!globalData.isDemo) {\r\n                if (globalData.finishGeneratingBalance) {\r\n                    this.insufficient.active = false;\r\n                    var emit_obj = {\r\n                        'host_id': globalData.host_id,\r\n                        'access_token': globalData.access_token,\r\n                        'game_code': 23,\r\n                        'betAmount': this.currentBetting,\r\n                        \"key\": \"Happy Jump bet with these index 1st\",\r\n                        \"description\": \"bet\",\r\n                        \"user_id\": globalData.settings.user_id,\r\n                        'api_url':globalData.api_url,\r\n                        \"requestType\": \"social_addon\",\r\n                        'ticket_id': globalData.ticket_id,\r\n                        \"currentBetSlot\":globalData.currentBetSlot,\r\n                    }\r\n\r\n                    globalData.getSocket().emit('changeBet', emit_obj);\r\n                    this.generateScore2();\r\n                    this.generatingBalance = false;\r\n                    globalData.finishGeneratingBalance = false;\r\n\r\n                }\r\n            }\r\n\r\n            else {\r\n                this.insufficient.active = false;\r\n                this.generateScore2();\r\n                this.generatingBalance = false;\r\n            }\r\n\r\n        }\r\n\r\n    },\r\n});\r\n"]}